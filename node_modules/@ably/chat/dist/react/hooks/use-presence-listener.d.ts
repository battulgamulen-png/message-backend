import { PresenceListener, PresenceMember } from '../../core/presence.js';
import { ChatStatusResponse } from '../types/chat-status-response.js';
import { Listenable } from '../types/listenable.js';
import { StatusParams } from '../types/status-params.js';
import * as Ably from 'ably';
/**
 * The options for the {@link usePresenceListener} hook.
 */
export interface UsePresenceListenerParams extends StatusParams, Listenable<PresenceListener> {
    /**
     * The listener to be called when the presence state changes.
     * The listener is removed when the component unmounts.
     * @example
     * ```tsx
     * usePresenceListener({
     *   listener: (presenceEvent) => {
     *     console.log('Presence event:', presenceEvent.type, presenceEvent.member.clientId);
     *   }
     * });
     * ```
     */
    listener?: PresenceListener;
}
export interface UsePresenceListenerResponse extends ChatStatusResponse {
    /**
     * The current state of all the presence members, observed as a whole change, and only emitted while presence is not syncing.
     */
    readonly presenceData: PresenceMember[];
    /**
     * The error state of the presence listener.
     * The hook keeps {@link presenceData} up to date asynchronously, so this error state is provided to allow
     * the user to handle errors that may occur when fetching presence data.
     * It will be set if there is an error fetching the initial presence data,
     * or if there is an error when fetching presence data after a presence event.
     * The error will be cleared once a new presence event is received and successfully processed.
     */
    readonly error?: Ably.ErrorInfo;
}
/**
 * React hook that provides real-time presence data for all users in a room.
 *
 * This hook automatically subscribes to presence events and maintains an up-to-date
 * list of all presence members in the room.
 *
 * **Note**:
 * - This hook must be used within a {@link ChatRoomProvider} component tree.
 * - Room must be attached to receive presence updates, typically the {@link ChatRoomProvider} handles this automatically.
 * @param params - Optional parameters for event listeners and room status callbacks
 * @returns A {@link UsePresenceListenerResponse} containing current presence data and error state
 * @throws An {@link Ably.ErrorInfo} with {@link chat-js!ErrorCode.ReactHookMustBeUsedWithinProvider | ReactHookMustBeUsedWithinProvider} When used outside of a {@link ChatRoomProvider}
 * @example Basic usage
 * ```tsx
 * import React from 'react';
 * import { ChatClient, PresenceEvent } from '@ably/chat';
 * import {
 *   ChatClientProvider,
 *   ChatRoomProvider,
 *   usePresenceListener
 * } from '@ably/chat/react';
 *
 * // Component that displays all presence members
 * const PresenceList = () => {
 *   const { presenceData, error } = usePresenceListener({
 *     listener: (presenceEvent: PresenceEvent) => {
 *       console.log(`Presence ${presenceEvent.type}:`, presenceEvent.member);
 *     },
 *   });
 *
 *   if (error) {
 *     return <div>Error: {error.message}</div>;
 *   }
 *
 *   return (
 *     <div>
 *       <p>Total Members: {presenceData.length}</p>
 *       <ul>
 *         {presenceData.map((member) => (
 *           <li key={member.clientId}>ðŸ‘¤ {member.clientId}</li>
 *         ))}
 *       </ul>
 *     </div>
 *   );
 * };
 *
 * const chatClient: ChatClient; // existing ChatClient instance
 *
 * // App component with providers
 * const App = () => {
 *   return (
 *     <ChatClientProvider client={chatClient}>
 *       <ChatRoomProvider name="team-room">
 *         <PresenceList />
 *       </ChatRoomProvider>
 *     </ChatClientProvider>
 *   );
 * };
 *
 * export default App;
 * ```
 */
export declare const usePresenceListener: (params?: UsePresenceListenerParams) => UsePresenceListenerResponse;
